# make.in for compilation on Cori
# use Intel MPI, i.e., "module load impi" to access mpiicc and mpiicpc

CC  = cc
CXX = CC
FC  = ftn
AR  = xiar rcs

MPICC  = mpiicc
MPICXX = mpiicpc

DYNAMIC     = 1
DO_SCF      = 0
SCF_TIMMING = 0
SCF_OUT     = 0

#OPTFLAGS = -offload-option,mic,compiler,"-z defs -no-opt-prefetch"
OPTFLAGS  = -qno-offload
#OPTFLAGS += -m64 -xHost
CFLAGS    = -O3 -Wall -qopenmp -std=gnu99 -fasm-blocks
CFLAGS   += -Wunknown-pragmas -Wunused-variable
CFLAGS   += ${OPTFLAGS}

BLAS_LIBS        = -lmkl_intel_lp64 -lmkl_core -lmkl_intel_thread -lpthread -lm 
SCALAPACK_LIBS   = -lmkl_scalapack_lp64 -lmkl_blacs_intelmpi_lp64

MPI_INCDIR = .
MPI_LIBDIR = .
MPI_LIBS =

GA_INCDIR = /global/homes/e/echow/ga-5-3/GAlib/include
GA_LIBDIR = /global/homes/e/echow/ga-5-3/GAlib/lib
GA_LIBS = -lga

ARMCI_INCDIR = /global/homes/e/echow/armci-mpi/external-armci/include
ARMCI_LIBDIR = /global/homes/e/echow/armci-mpi/external-armci/lib
ARMCI_LIBS = -larmci

ERD_LIBDIR = /global/homes/e/echow/libcint
ERD_INCDIR = /global/homes/e/echow/libcint
#OLD_ERD_LIBDIR = /global/homes/e/echow/OptErd_Makefile/lib
#ERD_LIBS = ${ERD_LIBDIR}/libcint.a ${OLD_ERD_LIBDIR}/liberd.a ${OLD_ERD_LIBDIR}/liboed.a
#ERD_LIBS = ${ERD_LIBDIR}/libcint.a /global/homes/e/echow/simint-generator/outdir-enuc/build-avx2/install/lib64/libsimint.a
#ERD_LIBS = ${ERD_LIBDIR}/libcint.a /global/homes/e/echow/fork/micavx512/lib64/libsimint.a
#ERD_LIBS = ${ERD_LIBDIR}/libcint.a /global/homes/e/echow/fork/am5/install/lib64/libsimint.a
#ERD_LIBS = ${ERD_LIBDIR}/libcint.a /global/homes/e/echow/fork/simint-generator/outdir/build-micavx512/simint/libsimint.a
ERD_LIBS = /global/homes/e/echow/OptErd_Makefile.git/lib/libcint.a \
           /global/homes/e/echow/OptErd_Makefile.git/lib/liberd.a \
           /global/homes/e/echow/OptErd_Makefile.git/lib/liboed.a
